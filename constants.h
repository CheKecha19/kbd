/*! \file constants.h
 *  \brief Enter description here.
 *  \author Georgi Gerganov
 */

#pragma once

#include <map>
#include <array>
#include <vector>
#include <cstdint>

#ifdef __EMSCRIPTEN__
static constexpr int64_t kSamplesPerFrame = 2048;
#else
static constexpr int64_t kSamplesPerFrame = 512;
#endif
static constexpr int32_t kTopResultsPerProcessor = 4;
static constexpr int32_t kMaxRecords = 16;
static constexpr int64_t kMaxSampleRate = 96000;
static constexpr float   kMaxBufferSize_s = 5.000f;
static constexpr float   kMaxRecordSize_s = 180.0f;

static constexpr int32_t ceil_const(float num) {
    return (static_cast<float>(static_cast<int32_t>(num)) == num)
        ? static_cast<int32_t>(num)
        : static_cast<int32_t>(num) + ((num > 0) ? 1 : 0);
}

// odd number of frames longer than bufferSize_s
static constexpr int32_t getBufferSize_frames(int64_t sampleRate, float bufferSize_s) {
    return 2*(ceil_const(float(bufferSize_s*sampleRate)/kSamplesPerFrame)/2) + 1;
}

static constexpr int64_t kSampleRate = 16000;
static constexpr int32_t kMaxRecordSize_frames = getBufferSize_frames(kSampleRate, kMaxRecordSize_s);

static constexpr float kBufferSizeTrain_s = 0.300;
static constexpr int32_t kBufferSizeTrain_frames = getBufferSize_frames(kSampleRate, kBufferSizeTrain_s);
static constexpr int64_t kSamplesPerWaveformTrain = kSamplesPerFrame*kBufferSizeTrain_frames;

static constexpr uint64_t kBkgrRingBufferSize = 4*1024;
static constexpr int64_t kBkgrStep_samples = 16;
static constexpr int64_t kKeyDuration_samples = 0.005f*kSampleRate;

static constexpr float kFreqCutoff_Hz = 1000.0f;


static std::map<char, wchar_t> m{
    {'f', "а"},
    {',', "б"},
    {'d', "в"},
    {'u', "г"},
    {'l', "д"},
    {'t', "е"},
    {';', "ж"},
    {'p', "з"},
    {'b', "и"},
    {'q', "й"},
    {'r', "к"},
    {'k', "л"},
    {'v', "м"},
    {'y', "н"},
    {'j', "о"},
    {'g', "п"},
    {'h', "р"},
    {'c', "с"},
    {'n', "т"},
    {'e', "у"},
    {'a', "ф"},
    {'[', "х"},
    {'w', "ц"},
    {'x', "ч"},
    {'i', "ш"},
    {'o', "щ"},
    {']', "ъ"},
    {'s', "ы"},
    {'m', "ь"},
    {'\'', "э"},
    {'.', "ю"},
    {'z', "я"},
};

static std::map<char, std::vector<char>> kNearbyKeys = {
    { 'a', { 'a', 'q', 'w', 's', 'z', 'x',                               } },
    { 'b', { 'b', 'f', 'g', 'h', 'v', 'n',                               } },
    { 'c', { 'c', 's', 'd', 'f', 'x', 'v',                               } },
    { 'd', { 'd', 'w', 'e', 'r', 's', 'f', 'x', 'c', 'v',                } },
    { 'e', { 'e', 'w', 'r', 's', 'd', 'f', '_'                           } },    
    { 'f', { 'f', 'e', 'r', 't', 'd', 'g', 'c', 'v', 'b',                } },
    { 'g', { 'g', 'r', 't', 'y', 'f', 'h', 'v', 'b', 'n',                } },
    { 'h', { 'h', 't', 'y', 'u', 'g', 'j', 'b', 'n', 'm',                } },
    { 'i', { 'i', 'u', 'o', 'j', 'k', 'l',                               } },
    { 'j', { 'j', 'y', 'u', 'i', 'h', 'k', 'n', 'm',                     } },
    { 'k', { 'k', 'u', 'i', 'o', 'j', 'l', 'm',                          } },
    { 'l', { 'l', 'i', 'o', 'p', 'k', 'm',                               } },
    { 'm', { 'm', 'h', 'j', 'k', 'n',                                    } },
    { 'n', { 'n', 'g', 'h', 'j', 'b', 'm',                               } },
    { 'o', { 'o', 'i', 'p', 'k', 'l',                                    } },
    { 'p', { 'p', 'o', 'l',                                              } },
    { 'q', { 'q', 'w', 'a', 's',                                         } },
    { 'r', { 'r', 'e', 't', 'd', 'f', 'g',                               } },
    { 's', { 's', 'q', 'w', 'e', 'a', 'd', 'z', 'x', 'c',                } },
    { 't', { 't', 'r', 'y', 'f', 'g', 'h',                               } },
    { 'u', { 'u', 'y', 'i', 'h', 'j', 'k',                               } },
    { 'v', { 'v', 'd', 'f', 'g', 'c', 'b',                               } },
    { 'w', { 'w', 'q', 'e', 'a', 's', 'd',                               } },
    { 'x', { 'x', 'a', 's', 'd', 'z', 'c',                               } },
    { 'y', { 'y', 't', 'u', 'g', 'h', 'j',                               } },
    { 'z', { 'z', 'a', 's', 'x',                                         } },
    { '_', { '_', 'e',                                                   } },
    { ',', { ',', 'm', 'j', 'k', 'l', '.',                               } },
    { '.', { '.', ',', 'k', 'l', ';', '/',                               } },
    { '/', { '/', '.', 'l', ';', '\'',                                   } },
    { ';', { ';', '/', '.', 'l', 'o', 'p', '[', '\'',                    } },
    { '\'', { '\'', '/', ';', 'p', '[', ']',                             } },
    { '[', { '[', 'p', ';', '\'', ']',                                   } },
    { ']', { ']', '\'' , '[',                                            } },
};


/*
static std::map<char, std::vector<char>> kNearbyKeys = {
    { 'а', { 'а', 'в', 'с', 'у', 'м', "к", "и", "п", "е",                } },
    { "б", { "б", "ь", "о", "л", "д", "ю",                               } },
    { "в", { "в", "ч", "ы", "ц", "у", "с", "м", "а", "к",                } },
    { "г", { "г", "н", "р", "о", "л", "ш",                               } },
    { "д", { "д", "б", "л", "ш", "ю", "щ", ".", "ж", "з",                } },
    { "е", { "е", "к", "а", "п", "р", "н",                               } },
    { "ж", { "ж", "ю", "д", "щ", ".", "з", "э", "х",                     } },
    { "з", { "з", "щ", "д", "ж", "э", "х",                               } },
    { "и", { "и", "м", "а", "п", "т", "р",                               } },
    { "й", { "й", "ф", "ы", "ц",                                         } },
    { "к", { "к", "у", "в", "а", "п", "е",                               } },
    { "л", { "л", "ь", "о", "г", "б", "ш", "ю", "д", "щ",                } },
    { "м", { "м", "с", "в", "а", "п", "и",                               } },
    { "н", { "н", "е", "п", "р", "о", "г",                               } },
    { "о", { "о", "т", "р", "н", "ь", "г", "б", "л", "ш",                } },
    { "п", { "п", "м", "а", "к", "и", "е", "т", "р", "н",                } },
    { "р", { "р", "и", "п", "е", "т", "н", "ь", "о", "г",                } },
    { "с", { "с", "ч", "ы", "в", "м", "а",                               } },
    { "т", { "т", "и", "п", "р", "ь", "о",                               } },
    { "у", { "у", "ц", "ы", "в", "а", "к",                               } },
    { "ф", { "ф", "й", "ц", "ы", "ч", "я",                               } },
    { "х", { "х", "з", "ж", "э", "ъ",                                    } },
    { "ц", { "ц", "й", "ф", "ы", "в", "у",                               } },
    { "ч", { "ч", "я", "ф", "ы", "в", "с",                               } },
    { "ш", { "ш", "г", "о", "л", "щ", "д",                               } },
    { "щ", { "щ", "ш", "л", "д", "ж","з",                                } },
    { "ъ", { "ъ", "х", "э",                                              } },
    { "ы", { "ы", "я", "ф", "й", "ч", "ц", "с", "в", "у",                } },
    { "ь", { "ь", "т", "р", "о", "л", "б",                               } },
    { "э", { "э", ".", "ж", "з", "х", "ъ",                               } },
    { "ю", { "ю", "б", "л", "д", "ж", ".",                               } },
    { "я", { "я", "ф", "ы", "ч",                                         } },
    { "_", { "_"                                                        } },
};
*/

    static const std::array<int32_t, 256> kCharToInt = {
    /* { 0,   */   0 /* } */,
    /* { 1,   */   0 /* } */,
    /* { 2,   */   0 /* } */,
    /* { 3,   */   0 /* } */,
    /* { 4,   */   0 /* } */,
    /* { 5,   */   0 /* } */,
    /* { 6,   */   0 /* } */,
    /* { 7,   */   0 /* } */,
    /* { 8,   */   0 /* } */,
    /* { 9,   */   0 /* } */,
    /* { 10,  */   0 /* } */,
    /* { 11,  */   0 /* } */,
    /* { 12,  */   0 /* } */,
    /* { 13,  */   0 /* } */,
    /* { 14,  */   0 /* } */,
    /* { 15,  */   0 /* } */,
    /* { 16,  */   0 /* } */,
    /* { 17,  */   0 /* } */,
    /* { 18,  */   0 /* } */,
    /* { 19,  */   0 /* } */,
    /* { 20,  */   0 /* } */,
    /* { 21,  */   0 /* } */,
    /* { 22,  */   0 /* } */,
    /* { 23,  */   0 /* } */,
    /* { 24,  */   0 /* } */,
    /* { 25,  */   0 /* } */,
    /* { 26,  */   0 /* } */,
    /* { 27,  */   0 /* } */,
    /* { 28,  */   0 /* } */,
    /* { 29,  */   0 /* } */,
    /* { 30,  */   0 /* } */,
    /* { 31,  */   0 /* } */,
    /* { 32,  */   0 /* } */,
    /* { 33,  */   0 /* } */,
    /* { 34,  */   0 /* } */,
    /* { 35,  */   0 /* } */,
    /* { 36,  */   0 /* } */,
    /* { 37,  */   0 /* } */,
    /* { 38,  */   0 /* } */,
    /* { 39,  */   0 /* } */,
    /* { 40,  */   0 /* } */,
    /* { 41,  */   0 /* } */,
    /* { 42,  */   0 /* } */,
    /* { 43,  */   0 /* } */,
    /* { 44,  */   0 /* } */,
    /* { 45,  */   0 /* } */,
    /* { 46,  */   0 /* } */,
    /* { 47,  */   0 /* } */,
    /* { 48,  */   0 /* } */,
    /* { 49,  */   0 /* } */,
    /* { 50,  */   0 /* } */,
    /* { 51,  */   0 /* } */,
    /* { 52,  */   0 /* } */,
    /* { 53,  */   0 /* } */,
    /* { 54,  */   0 /* } */,
    /* { 55,  */   0 /* } */,
    /* { 56,  */   0 /* } */,
    /* { 57,  */   0 /* } */,
    /* { 58,  */   0 /* } */,
    /* { 59,  */   0 /* } */,
    /* { 60,  */   0 /* } */,
    /* { 61,  */   0 /* } */,
    /* { 62,  */   0 /* } */,
    /* { 63,  */   0 /* } */,
    /* { 64,  */   0 /* } */,
    /* { 65,  */   0 /* } */,
    /* { 66,  */   0 /* } */,
    /* { 67,  */   0 /* } */,
    /* { 68,  */   0 /* } */,
    /* { 69,  */   0 /* } */,
    /* { 70,  */   0 /* } */,
    /* { 71,  */   0 /* } */,
    /* { 72,  */   0 /* } */,
    /* { 73,  */   0 /* } */,
    /* { 74,  */  0 /* } */,
    /* { 75,  */  0 /* } */,
    /* { 76,  */  0 /* } */,
    /* { 77,  */  0 /* } */,
    /* { 78,  */  0 /* } */,
    /* { 79,  */  0 /* } */,
    /* { 80,  */  0 /* } */,
    /* { 81,  */  0 /* } */,
    /* { 82,  */  0 /* } */,
    /* { 83,  */  0 /* } */,
    /* { 84,  */  0 /* } */,
    /* { 85,  */  0 /* } */,
    /* { 86,  */  0 /* } */,
    /* { 87,  */  0 /* } */,
    /* { 88,  */  0 /* } */,
    /* { 89,  */  0 /* } */,
    /* { 90,  */  0 /* } */,
    /* { 91,  */   0 /* } */,
    /* { 92,  */   0 /* } */,
    /* { 93,  */   0 /* } */,
    /* { 94,  */   0 /* } */,
    /* { 95,  */   0 /* } */,
    /* { 96,  */   0 /* } */,
    /* { 97,  */   0 /* } */,
    /* { 98,  */   0 /* } */,
    /* { 99,  */   0 /* } */,
    /* { 100, */   0 /* } */,
    /* { 101, */   0 /* } */,
    /* { 102, */   0 /* } */,
    /* { 103, */   0 /* } */,
    /* { 104, */   0 /* } */,
    /* { 105, */   0 /* } */,
    /* { 106, */  0 /* } */,
    /* { 107, */  0 /* } */,
    /* { 108, */  0 /* } */,
    /* { 109, */  0 /* } */,
    /* { 110, */  0 /* } */,
    /* { 111, */  0 /* } */,
    /* { 112, */  0 /* } */,
    /* { 113, */  0 /* } */,
    /* { 114, */  0 /* } */,
    /* { 115, */  0 /* } */,
    /* { 116, */  0 /* } */,
    /* { 117, */  0 /* } */,
    /* { 118, */  0 /* } */,
    /* { 119, */  0 /* } */,
    /* { 120, */  0 /* } */,
    /* { 121, */  0 /* } */,
    /* { 122, */  0 /* } */,
    /* { 123, */   0 /* } */,
    /* { 124, */   0 /* } */,
    /* { 125, */   0 /* } */,
    /* { 126, */   0 /* } */,
    /* { 127, */   0 /* } */,
    /* { 128, */   0 /* } */,
    /* { 129, */   0 /* } */,
    /* { 130, */   0 /* } */,
    /* { 131, */   0 /* } */,
    /* { 132, */   0 /* } */,
    /* { 133, */   0 /* } */,
    /* { 134, */   0 /* } */,
    /* { 135, */   0 /* } */,
    /* { 136, */   0 /* } */,
    /* { 137, */   0 /* } */,
    /* { 138, */   0 /* } */,
    /* { 139, */   0 /* } */,
    /* { 140, */   0 /* } */,
    /* { 141, */   0 /* } */,
    /* { 142, */   0 /* } */,
    /* { 143, */   0 /* } */,
    /* { 144, */   0 /* } */,
    /* { 145, */   0 /* } */,
    /* { 146, */   0 /* } */,
    /* { 147, */   0 /* } */,
    /* { 148, */   0 /* } */,
    /* { 149, */   0 /* } */,
    /* { 150, */   0 /* } */,
    /* { 151, */   0 /* } */,
    /* { 152, */   0 /* } */,
    /* { 153, */   0 /* } */,
    /* { 154, */   0 /* } */,
    /* { 155, */   0 /* } */,
    /* { 156, */   0 /* } */,
    /* { 157, */   0 /* } */,
    /* { 158, */   0 /* } */,
    /* { 159, */   0 /* } */,
    /* { 160, */   0 /* } */,
    /* { 161, */   0 /* } */,
    /* { 162, */   0 /* } */,
    /* { 163, */   0 /* } */,
    /* { 164, */   0 /* } */,
    /* { 165, */   0 /* } */,
    /* { 166, */   0 /* } */,
    /* { 167, */   0 /* } */,
    /* { 168, */   0 /* } */,
    /* { 169, */   0 /* } */,
    /* { 170, */   0 /* } */,
    /* { 171, */   0 /* } */,
    /* { 172, */   0 /* } */,
    /* { 173, */   0 /* } */,
    /* { 174, */   0 /* } */,
    /* { 175, */   0 /* } */,
    /* { 176, */   0 /* } */,
    /* { 177, */   0 /* } */,
    /* { 178, */   0 /* } */,
    /* { 179, */   0 /* } */,
    /* { 180, */   0 /* } */,
    /* { 181, */   0 /* } */,
    /* { 182, */   0 /* } */,
    /* { 183, */   0 /* } */,
    /* { 184, */   0 /* } */,
    /* { 185, */   0 /* } */,
    /* { 186, */   0 /* } */,
    /* { 187, */   0 /* } */,
    /* { 188, */   0 /* } */,
    /* { 189, */   0 /* } */,
    /* { 190, */   0 /* } */,
    /* { 191, */   0 /* } */,
    /* { 192, */   1 /* } */,
    /* { 193, */   2 /* } */,
    /* { 194, */   3 /* } */,
    /* { 195, */   4 /* } */,
    /* { 196, */   5 /* } */,
    /* { 197, */   6 /* } */,
    /* { 198, */   7 /* } */,
    /* { 199, */   8 /* } */,
    /* { 200, */   9 /* } */,
    /* { 201, */   10 /* } */,
    /* { 202, */   11 /* } */,
    /* { 203, */   12 /* } */,
    /* { 204, */   13 /* } */,
    /* { 205, */   14/* } */,
    /* { 206, */   15/* } */,
    /* { 207, */   16/* } */,
    /* { 208, */   17/* } */,
    /* { 209, */   18/* } */,
    /* { 210, */   19/* } */,
    /* { 211, */   20/* } */,
    /* { 212, */   21/* } */,
    /* { 213, */   22/* } */,
    /* { 214, */   23/* } */,
    /* { 215, */   24/* } */,
    /* { 216, */   25/* } */,
    /* { 217, */   26/* } */,
    /* { 218, */   27/* } */,
    /* { 219, */   28/* } */,
    /* { 220, */   29/* } */,
    /* { 221, */   30/* } */,
    /* { 222, */   31/* } */,
    /* { 223, */   32/* } */,
    /* { 224, */   1/* } */,
    /* { 225, */   2 /* } */,
    /* { 226, */   3 /* } */,
    /* { 227, */   4 /* } */,
    /* { 228, */   5 /* } */,
    /* { 229, */   6 /* } */,
    /* { 230, */   7 /* } */,
    /* { 231, */   8 /* } */,
    /* { 232, */   9 /* } */,
    /* { 233, */   10/* } */,
    /* { 234, */   11 /* } */,
    /* { 235, */   12/* } */,
    /* { 236, */   13/* } */,
    /* { 237, */   14/* } */,
    /* { 238, */   15/* } */,
    /* { 239, */   16/* } */,
    /* { 240, */   17/* } */,
    /* { 241, */   18/* } */,
    /* { 242, */   19/* } */,
    /* { 243, */   20/* } */,
    /* { 244, */   21/* } */,
    /* { 245, */   22/* } */,
    /* { 246, */   23/* } */,
    /* { 247, */   24/* } */,
    /* { 248, */   25/* } */,
    /* { 249, */   26/* } */,
    /* { 250, */   27/* } */,
    /* { 251, */   28/* } */,
    /* { 252, */   29/* } */,
    /* { 253, */   30/* } */,
    /* { 254, */   31/* } */,
    /* { 255, */   32/* } */,
};

static const std::map<int, const char *> kKeyText = {
    { -1,  "?" },
    { 0,   "?" },
    { 1,   "?" },
    { 2,   "?" },
    { 3,   "?" },
    { 4,   "?" },
    { 5,   "?" },
    { 6,   "?" },
    { 7,   "?" },
    { 8,   "?" },
    { 9,   "?" },
    { 10,  "[enter]" },
    { 11,  "?" },
    { 12,  "?" },
    { 13,  "?" },
    { 14,  "?" },
    { 15,  "?" },
    { 16,  "?" },
    { 17,  "?" },
    { 18,  "?" },
    { 19,  "?" },
    { 20,  "?" },
    { 21,  "?" },
    { 22,  "?" },
    { 23,  "?" },
    { 24,  "?" },
    { 25,  "?" },
    { 26,  "?" },
    { 27,  "?" },
    { 28,  "?" },
    { 29,  "?" },
    { 30,  "?" },
    { 31,  "?" },
    { 32,  "[space]" },
    { 33,  "?" },
    { 34,  "?" },
    { 35,  "?" },
    { 36,  "?" },
    { 37,  "?" },
    { 38,  "?" },
    { 39,  "'" },
    { 40,  "?" },
    { 41,  "?" },
    { 42,  "?" },
    { 43,  "?" },
    { 44,  "," },
    { 45,  "-" },
    { 46,  "." },
    { 47,  "/" },
    { 48,  "0" },
    { 49,  "1" },
    { 50,  "2" },
    { 51,  "3" },
    { 52,  "4" },
    { 53,  "5" },
    { 54,  "6" },
    { 55,  "7" },
    { 56,  "8" },
    { 57,  "9" },
    { 58,  "?" },
    { 59,  ";" },
    { 60,  "?" },
    { 61,  "=" },
    { 62,  "?" },
    { 63,  "?" },
    { 64,  "?" },
    { 65,  "?" },
    { 66,  "?" },
    { 67,  "?" },
    { 68,  "?" },
    { 69,  "?" },
    { 70,  "?" },
    { 71,  "?" },
    { 72,  "?" },
    { 73,  "?" },
    { 74,  "?" },
    { 75,  "?" },
    { 76,  "?" },
    { 77,  "?" },
    { 78,  "?" },
    { 79,  "?" },
    { 80,  "?" },
    { 81,  "?" },
    { 82,  "?" },
    { 83,  "?" },
    { 84,  "?" },
    { 85,  "?" },
    { 86,  "?" },
    { 87,  "?" },
    { 88,  "?" },
    { 89,  "?" },
    { 90,  "?" },
    { 91,  "[" },
    { 92,  "\\" },
    { 93,  "]" },
    { 94,  "?" },
    { 95,  "?" },
    { 96,  "`" },
    { 97,  "a" },
    { 98,  "b" },
    { 99,  "c" },
    { 100, "d" },
    { 101, "e" },
    { 102, "f" },
    { 103, "g" },
    { 104, "h" },
    { 105, "i" },
    { 106, "j" },
    { 107, "k" },
    { 108, "l" },
    { 109, "m" },
    { 110, "n" },
    { 111, "o" },
    { 112, "p" },
    { 113, "q" },
    { 114, "r" },
    { 115, "s" },
    { 116, "t" },
    { 117, "u" },
    { 118, "v" },
    { 119, "w" },
    { 120, "x" },
    { 121, "y" },
    { 122, "z" },
    { 123, "?" },
    { 124, "?" },
    { 125, "?" },
    { 126, "?" },
    { 127, "[<-]" },
    { 128, "?" },
    { 129, "?" },
    { 130, "?" },
    { 131, "?" },
    { 132, "?" },
    { 133, "?" },
    { 134, "?" },
    { 135, "?" },
    { 136, "?" },
    { 137, "?" },
    { 138, "?" },
    { 139, "?" },
    { 140, "?" },
    { 141, "?" },
    { 142, "?" },
    { 143, "?" },
    { 144, "?" },
    { 145, "?" },
    { 146, "?" },
    { 147, "?" },
    { 148, "?" },
    { 149, "?" },
    { 150, "?" },
    { 151, "?" },
    { 152, "?" },
    { 153, "?" },
    { 154, "?" },
    { 155, "?" },
    { 156, "?" },
    { 157, "?" },
    { 158, "?" },
    { 159, "?" },
    { 160, "?" },
    { 161, "?" },
    { 162, "?" },
    { 163, "?" },
    { 164, "?" },
    { 165, "?" },
    { 166, "?" },
    { 167, "?" },
    { 168, "?" },
    { 169, "?" },
    { 170, "?" },
    { 171, "?" },
    { 172, "?" },
    { 173, "?" },
    { 174, "?" },
    { 175, "?" },
    { 176, "?" },
    { 177, "?" },
    { 178, "?" },
    { 179, "?" },
    { 180, "?" },
    { 181, "?" },
    { 182, "?" },
    { 183, "?" },
    { 184, "?" },
    { 185, "?" },
    { 186, "?" },
    { 187, "?" },
    { 188, "?" },
    { 189, "?" },
    { 190, "?" },
    { 191, "?" },
    { 192, "А" },
    { 193, "Б" },
    { 194, "В" },
    { 195, "Г" },
    { 196, "Д" },
    { 197, "Е" },
    { 198, "Ж" },
    { 199, "З" },
    { 200, "И" },
    { 201, "Й" },
    { 202, "К" },
    { 203, "Л" },
    { 204, "М" },
    { 205, "Н" },
    { 206, "О" },
    { 207, "П" },
    { 208, "Р" },
    { 209, "С" },
    { 210, "Т" },
    { 211, "У" },
    { 212, "Ф" },
    { 213, "Х" },
    { 214, "Ц" },
    { 215, "Ч" },
    { 216, "Ш" },
    { 217, "Щ" },
    { 218, "Ъ" },
    { 219, "Ы" },
    { 220, "Ь" },
    { 221, "Э" },
    { 222, "Ю" },
    { 223, "Я" },
    { 224, "а" },
    { 225, "б" },
    { 226, "в" },
    { 227, "г" },
    { 228, "д" },
    { 229, "е" },
    { 230, "ж" },
    { 231, "з" },
    { 232, "и" },
    { 233, "й" },
    { 234, "к" },
    { 235, "л" },
    { 236, "м" },
    { 237, "н" },
    { 238, "о" },
    { 239, "п" },
    { 240, "р" },
    { 241, "с" },
    { 242, "т" },
    { 243, "у" },
    { 244, "ф" },
    { 245, "х" },
    { 246, "ц" },
    { 247, "ч" },
    { 248, "ш" },
    { 249, "щ" },
    { 250, "ъ" },
    { 251, "ы" },
    { 252, "ь" },
    { 253, "э" },
    { 254, "ю" },
    { 255, "я" },
};

/*

static const std::map<int, const char *> kKeyText = {
    { -1,  "?" },
    { 0,   "?" },
    { 1,   "?" },
    { 2,   "?" },
    { 3,   "?" },
    { 4,   "?" },
    { 5,   "?" },
    { 6,   "?" },
    { 7,   "?" },
    { 8,   "?" },
    { 9,   "?" },
    { 10,  "[enter]" },
    { 11,  "?" },
    { 12,  "?" },
    { 13,  "?" },
    { 14,  "?" },
    { 15,  "?" },
    { 16,  "?" },
    { 17,  "?" },
    { 18,  "?" },
    { 19,  "?" },
    { 20,  "?" },
    { 21,  "?" },
    { 22,  "?" },
    { 23,  "?" },
    { 24,  "?" },
    { 25,  "?" },
    { 26,  "?" },
    { 27,  "?" },
    { 28,  "?" },
    { 29,  "?" },
    { 30,  "?" },
    { 31,  "?" },
    { 32,  "[space]" },
    { 33,  "?" },
    { 34,  "?" },
    { 35,  "?" },
    { 36,  "?" },
    { 37,  "?" },
    { 38,  "?" },
    { 39,  "э" },
    { 40,  "?" },
    { 41,  "?" },
    { 42,  "?" },
    { 43,  "?" },
    { 44,  "б" },
    { 45,  "-" },
    { 46,  "ю" },
    { 47,  "." },
    { 48,  "0" },
    { 49,  "1" },
    { 50,  "2" },
    { 51,  "3" },
    { 52,  "4" },
    { 53,  "5" },
    { 54,  "6" },
    { 55,  "7" },
    { 56,  "8" },
    { 57,  "9" },
    { 58,  "?" },
    { 59,  "ж" },
    { 60,  "?" },
    { 61,  "=" },
    { 62,  "?" },
    { 63,  "?" },
    { 64,  "?" },
    { 65,  "?" },
    { 66,  "?" },
    { 67,  "?" },
    { 68,  "?" },
    { 69,  "?" },
    { 70,  "?" },
    { 71,  "?" },
    { 72,  "?" },
    { 73,  "?" },
    { 74,  "?" },
    { 75,  "?" },
    { 76,  "?" },
    { 77,  "?" },
    { 78,  "?" },
    { 79,  "?" },
    { 80,  "?" },
    { 81,  "?" },
    { 82,  "?" },
    { 83,  "?" },
    { 84,  "?" },
    { 85,  "?" },
    { 86,  "?" },
    { 87,  "?" },
    { 88,  "?" },
    { 89,  "?" },
    { 90,  "?" },
    { 91,  "х" },
    { 92,  "\\" },
    { 93,  "ъ" },
    { 94,  "?" },
    { 95,  "?" },
    { 96,  "ё" },
    { 97,  "ф" },
    { 98,  "и" },
    { 99,  "с" },
    { 100, "в" },
    { 101, "е" },
    { 102, "а" },
    { 103, "п" },
    { 104, "р" },
    { 105, "ш" },
    { 106, "о" },
    { 107, "л" },
    { 108, "д" },
    { 109, "ь" },
    { 110, "т" },
    { 111, "щ" },
    { 112, "р" },
    { 113, "й" },
    { 114, "к" },
    { 115, "ы" },
    { 116, "е" },
    { 117, "г" },
    { 118, "м" },
    { 119, "ц" },
    { 120, "ч" },
    { 121, "н" },
    { 122, "я" },
    { 123, "?" },
    { 124, "?" },
    { 125, "?" },
    { 126, "?" },
    { 127, "[<-]" },
    { 128, "?" },
    { 129, "?" },
    { 130, "?" },
    { 131, "?" },
    { 132, "?" },
    { 133, "?" },
    { 134, "?" },
    { 135, "?" },
    { 136, "?" },
    { 137, "?" },
    { 138, "?" },
    { 139, "?" },
    { 140, "?" },
    { 141, "?" },
    { 142, "?" },
    { 143, "?" },
    { 144, "?" },
    { 145, "?" },
    { 146, "?" },
    { 147, "?" },
    { 148, "?" },
    { 149, "?" },
    { 150, "?" },
    { 151, "?" },
    { 152, "?" },
    { 153, "?" },
    { 154, "?" },
    { 155, "?" },
    { 156, "?" },
    { 157, "?" },
    { 158, "?" },
    { 159, "?" },
    { 160, "?" },
    { 161, "?" },
    { 162, "?" },
    { 163, "?" },
    { 164, "?" },
    { 165, "?" },
    { 166, "?" },
    { 167, "?" },
    { 168, "?" },
    { 169, "?" },
    { 170, "?" },
    { 171, "?" },
    { 172, "?" },
    { 173, "?" },
    { 174, "?" },
    { 175, "?" },
    { 176, "?" },
    { 177, "?" },
    { 178, "?" },
    { 179, "?" },
    { 180, "?" },
    { 181, "?" },
    { 182, "?" },
    { 183, "?" },
    { 184, "?" },
    { 185, "?" },
    { 186, "?" },
    { 187, "?" },
    { 188, "?" },
    { 189, "?" },
    { 190, "?" },
    { 191, "?" },
    { 192, "?" },
    { 193, "?" },
    { 194, "?" },
    { 195, "?" },
    { 196, "?" },
    { 197, "?" },
    { 198, "?" },
    { 199, "?" },
    { 200, "?" },
    { 201, "?" },
    { 202, "?" },
    { 203, "?" },
    { 204, "?" },
    { 205, "?" },
    { 206, "?" },
    { 207, "?" },
    { 208, "?" },
    { 209, "?" },
    { 210, "?" },
    { 211, "?" },
    { 212, "?" },
    { 213, "?" },
    { 214, "?" },
    { 215, "?" },
    { 216, "?" },
    { 217, "?" },
    { 218, "?" },
    { 219, "?" },
    { 220, "?" },
    { 221, "?" },
    { 222, "?" },
    { 223, "?" },
    { 224, "?" },
    { 225, "?" },
    { 226, "?" },
    { 227, "?" },
    { 228, "?" },
    { 229, "?" },
    { 230, "?" },
    { 231, "?" },
    { 232, "?" },
    { 233, "?" },
    { 234, "?" },
    { 235, "?" },
    { 236, "?" },
    { 237, "?" },
    { 238, "?" },
    { 239, "?" },
    { 240, "?" },
    { 241, "?" },
    { 242, "?" },
    { 243, "?" },
    { 244, "?" },
    { 245, "?" },
    { 246, "?" },
    { 247, "?" },
    { 248, "?" },
    { 249, "?" },
    { 250, "?" },
    { 251, "?" },
    { 252, "?" },
    { 253, "?" },
    { 254, "?" },
    { 255, "?" },
};
*/
